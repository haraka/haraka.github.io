{"_path":"/plugins/dkim","_dir":"plugins","_draft":false,"_partial":false,"_locale":"","title":"dkim - DKIM plugin for Haraka","description":"Haraka DKIM plugin","navigation":{"title":"dkim"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"haraka-plugin-dkim"},"children":[{"type":"text","value":"haraka-plugin-dkim"}]},{"type":"element","tag":"h2","props":{"id":"install"},"children":[{"type":"text","value":"INSTALL"}]},{"type":"element","tag":"pre","props":{"code":"cd /path/to/local/haraka\nnpm install haraka-plugin-dkim\necho \"dkim\" >> config/plugins\nservice haraka restart\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /path/to/local/haraka\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" haraka-plugin-dkim\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"echo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"dkim\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" >>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" config/plugins\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"service"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" haraka"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" restart\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the default configuration is not sufficient, copy the config file from the distribution into your haraka config dir and then modify it:"}]},{"type":"element","tag":"pre","props":{"code":"cp node_modules/haraka-plugin-dkim/config/dkim.ini config/dkim.ini\n$EDITOR config/dkim.ini\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"cp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" node_modules/haraka-plugin-dkim/config/dkim.ini"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" config/dkim.ini\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$EDITOR config/dkim.ini\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"signing"},"children":[{"type":"text","value":"SIGNING"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin implements the "},{"type":"element","tag":"a","props":{"href":"dkimcore.org"},"children":[{"type":"text","value":"DKIM Core specification"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting Started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Generate a DKIM selector and keys for your domain:"}]},{"type":"element","tag":"pre","props":{"code":"cd /path/to/haraka/config/dkim\n./dkim_key_gen.sh example.org\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" /path/to/haraka/config/dkim\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"./dkim_key_gen.sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" example.org\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Within the config/dkim/${domain} directory will be 4 files:"}]},{"type":"element","tag":"pre","props":{"code":"ls config/dkim/example.org/\ndns private public selector\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" config/dkim/example.org/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dns"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" public"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" selector\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The selector file contains the DNS label where the DKIM public key is published. The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" files contain the DKIM keys."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dns"}]},{"type":"text","value":" file contains a formatted record of the public key suitable for copy/pasting into your domains zone file. It also has suggestions for DKIM, SPF, and DMARC policy records."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The DKIM DNS record will look like this:"}]},{"type":"element","tag":"pre","props":{"code":"may2013._domainkey TXT \"v=DKIM1;p=[public key stripped of whitespace];\"\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"may2013._domainkey TXT \"v=DKIM1;p=[public key stripped of whitespace];\"\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The values in the address have the following meaning:"}]},{"type":"element","tag":"pre","props":{"code":"hash: h=[ sha1 | sha256 ]\ntest; t=[ s | s:y ]\ngranularity: g=[ ]\nnotes: n=[ ]\nservices: s=[email]\nkeytypes: [ rsa ]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"hash: h=[ sha1 | sha256 ]\ntest; t=[ s | s:y ]\ngranularity: g=[ ]\nnotes: n=[ ]\nservices: s=[email]\nkeytypes: [ rsa ]\n"}]}]},{"type":"element","tag":"h2","props":{"id":"key-size"},"children":[{"type":"text","value":"Key size"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default key size created by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dkim_key_gen.sh"}]},{"type":"text","value":" is 2048. That is considered secure as of mid-2024."}]},{"type":"element","tag":"h1","props":{"id":"what-to-sign"},"children":[{"type":"text","value":"What to sign"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The DKIM signing key for messages from example.org "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"should"}]},{"type":"text","value":" be signed with\na DKIM key for example.org. Failing to do so will result in messages not\nhaving an "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"aligned"}]},{"type":"text","value":" DKIM signature. For DMARC enabled domains, this will\nlikely result in deliverability problems."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For correct alignment, Haraka signs each message with that domains DKIM key.\nFor an alternative, see the legacy Single Domain Configuration below."}]},{"type":"element","tag":"h1","props":{"id":"configuration-1"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DKIM signing is configured in the sign section of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dkim.ini"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"code":"[sign]\nenabled = [ 1 | true | yes ], default=false\nheaders = list, of; headers (REQUIRED)\n\n; for single domain configuration\nselector = name\ndomain = name\n","language":"ini","meta":"","className":"language-ini shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"[sign]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"enabled"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" = [ 1 | true | yes ], "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"=false\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" = list, of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"; headers (REQUIRED)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"; for single domain configuration\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"selector"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" = name\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"domain"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" = name\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"headers: the list of headers that should be signed, separated by commas, colons or semi-colons. Signing prevents tampering with the specified headers. The 'From' header is required by the RFC and will be added if missing."}]}]},{"type":"element","tag":"h2","props":{"id":"single-domain-configuration"},"children":[{"type":"text","value":"Single Domain Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To sign all messages with a single DKIM key, you must set the selector and domain in dkim.ini. You must also save your DKIM private key in the file "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dkim.private.key"}]},{"type":"text","value":" in the Haraka config directory."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"selector - Set this to the selector name published in DNS under the _domainkey sub-domain of the domain referenced below."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"domain - Set this to the domain name that will be used to sign messages which don't match a per-domain DKIM key. The DNS TXT entry for:"},{"type":"element","tag":"selector","props":{},"children":[{"type":"text","value":"\n._domainkey.\n"},{"type":"element","tag":"domain","props":{},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Test that your DKIM key is published properly with a DNS request like this:"}]},{"type":"element","tag":"pre","props":{"code":"drill TXT $SELECTOR._domainkey.$DOMAIN\ndig TXT $SELECTOR._domainkey.$DOMAIN +short\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"drill"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" TXT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" $SELECTOR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"._domainkey."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$DOMAIN\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"dig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" TXT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" $SELECTOR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"._domainkey."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$DOMAIN "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"+short\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"example-dns-query"},"children":[{"type":"text","value":"Example DNS query"}]},{"type":"element","tag":"pre","props":{"code":"export SELECTOR=mar2013\nexport DOMAIN=simerson.net\n$ dig TXT $SELECTOR._domainkey.$DOMAIN +short\n\"v=DKIM1;p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoyUzGOTSOmakY8BcxXgi0mN/nFegLBPs7aaGQUtjHfa8yUrt9T2j6GSXgdjLuG3R43WjePQv3RHzc+bwwOkdw0XDOXiztn5mhrlaflbVr5PMSTrv64/cpFQKLtgQx8Vgqp7Dh3jw13rLomRTqJFgMrMHdhIibZEa69gtuAfDqoeXo6QDSGk5JuBAeRHEH27FriHulg5ob\" \"4F4lmh7fMFVsDGkQEF6jaIVYqvRjDyyQed3R3aTJX3fpb3QrtRqvfn/LAf+3kzW58AjsERpsNCSTD2RquxbnyoR/1wdGKb8cUlD/EXvqtvpVnOzHeSeMEqex3kQI8HOGsEehWZlKd+GqwIDAQAB\"\n","language":"sh","meta":"","className":"language-sh shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" SELECTOR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"mar2013\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" DOMAIN"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"simerson.net\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" dig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" TXT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" $SELECTOR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"._domainkey."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$DOMAIN "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"+short\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"\"v=DKIM1;p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoyUzGOTSOmakY8BcxXgi0mN/nFegLBPs7aaGQUtjHfa8yUrt9T2j6GSXgdjLuG3R43WjePQv3RHzc+bwwOkdw0XDOXiztn5mhrlaflbVr5PMSTrv64/cpFQKLtgQx8Vgqp7Dh3jw13rLomRTqJFgMrMHdhIibZEa69gtuAfDqoeXo6QDSGk5JuBAeRHEH27FriHulg5ob\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"4F4lmh7fMFVsDGkQEF6jaIVYqvRjDyyQed3R3aTJX3fpb3QrtRqvfn/LAf+3kzW58AjsERpsNCSTD2RquxbnyoR/1wdGKb8cUlD/EXvqtvpVnOzHeSeMEqex3kQI8HOGsEehWZlKd+GqwIDAQAB\"\n"}]}]}]}]},{"type":"element","tag":"h1","props":{"id":"dkim-verify"},"children":[{"type":"text","value":"DKIM VERIFY"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Verify DKIM signatures as defined by RFC 6376 and add an Authentication-Results header as appropriate."}]},{"type":"element","tag":"h2","props":{"id":"configuration-2"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"pre","props":{"code":"[verify]\n; allowed_time_skew = (How far can we stretch on time matching, in secs. Useful when clock is skewed.)\n; sigerror_log_level =\n","language":"ini","meta":"","className":"language-ini shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"[verify]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"; allowed_time_skew = (How far can we stretch on time matching, in secs. Useful when clock is skewed.)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"; sigerror_log_level =\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"testing"},"children":[{"type":"text","value":"Testing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin provides a command-line test tool that can be used to\ndebug DKIM issues or to check results."}]},{"type":"element","tag":"pre","props":{"code":"# dkimverify < message\nidentity=\"@gmail.com\" domain=\"gmail.com\" result=pass\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# dkimverify < message\nidentity=\"@gmail.com\" domain=\"gmail.com\" result=pass\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can add "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--debug"}]},{"type":"text","value":" to the option arguments to see a full trace of the processing."}]},{"type":"element","tag":"h2","props":{"id":"notes"},"children":[{"type":"text","value":"Notes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin and underlying library do not currently support DKIM body length limits (l=)."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"install","depth":2,"text":"INSTALL","children":[{"id":"configuration","depth":3,"text":"Configuration"}]},{"id":"signing","depth":2,"text":"SIGNING","children":[{"id":"getting-started","depth":3,"text":"Getting Started"}]},{"id":"key-size","depth":2,"text":"Key size"},{"id":"single-domain-configuration","depth":2,"text":"Single Domain Configuration","children":[{"id":"example-dns-query","depth":3,"text":"Example DNS query"}]},{"id":"configuration-2","depth":2,"text":"Configuration"},{"id":"testing","depth":2,"text":"Testing"},{"id":"notes","depth":2,"text":"Notes"}]}},"_type":"markdown","_id":"content:8.plugins:dkim.md","_source":"content","_file":"8.plugins/dkim.md","_stem":"8.plugins/dkim","_extension":"md"}