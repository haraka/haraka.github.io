{"_path":"/barelf","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Bare Line Feeds sent to Haraka","description":"Bare Line Feeds sent to Haraka","navigation":false,"aside":false,"body":{"type":"root","children":[{"type":"element","tag":"h3","props":{"id":"bare-lfs-in-smtp"},"children":[{"type":"text","value":"Bare LFs in SMTP"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most likely you're here because your mailer displayed the pointer\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"See http://haraka.github.io/barelf/"}]}]},{"type":"element","tag":"h2","props":{"id":"where-did-that-pointer-come-from"},"children":[{"type":"text","value":"Where did that pointer come from?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It was generated by "},{"type":"element","tag":"nuxt-link","props":{"to":"/"},"children":[{"type":"text","value":"Haraka"}]},{"type":"text","value":", an Internet message transfer agent. Your mailer tried to send an e-mail message to a server running Haraka.\nUnfortunately, Haraka spotted a problem: your mailer sent a bare LF."}]},{"type":"element","tag":"h3","props":{"id":"why-should-i-worry-about-bare-lfs"},"children":[{"type":"text","value":"Why should I worry about bare LFs?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can't get mail through to msn.com and thousands of other systems around the Internet. Your mailer is violating 822bis section 2.3, which specifically prohibits all bare LFs."}]},{"type":"element","tag":"h3","props":{"id":"how-can-my-mailer-be-fixed"},"children":[{"type":"text","value":"How can my mailer be fixed?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That depends on what software you're using."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Solaris 2.5 sendmail:"}]},{"type":"text","value":"\nUpgrade!\nFixed in Solaris 2.5.1.\nYou can fix the problem by putting ``,E=\\r\\n''\nat the end of Mether, Mtcp, or Msmtp in sendmail.cf.\n(Note that Mether is not the same as DMether.)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"sendmail V8 has a bug that will produce a bare LF in certain messages (e.g., messages with very long lines). This bug was identified in November 1996; I don't know if it has been fixed yet."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Eudora Pro 4.0 for Windows:"}]},{"type":"text","value":"\nUpgrade!\nThe HTML LF problem was fixed in 4.0.1.\nThe attachment LF problem was fixed in 4.1."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"listproc 6.0c:"}]},{"type":"text","value":"\nChuck Foster says you should add "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CONVERT(buf);'' before "}]},{"type":"text","value":"WRITE_TO_SOCKET'' around line 165 of sysmail.c\nin the Listproc source code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"fetchmail:"}]},{"type":"text","value":"\nUpgrade!\nRecent versions of fetchmail reportedly do the right thing.\nMake sure the forcecr option is on."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Galacticom WorldGroups:"}]},{"type":"text","value":"\nReported 19970716. No information yet on how it can be fixed."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Claris Emailer:"}]},{"type":"text","value":"\nReported 19980613. No information yet on how it can be fixed."}]},{"type":"element","tag":"h3","props":{"id":"what-is-a-bare-lf-anyway"},"children":[{"type":"text","value":"What is a bare LF, anyway?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is an ASCII linefeed (LF) character not preceded by an ASCII carriage-return (CR) character.\nEvery line in an Internet mail message is required to end with CR LF. The entire message ends with CR LF dot CR LF.  822bis specifically prohibits other uses of LF.\nThe mail clients discussed above are incorrectly ending lines with LF and, in most cases, ending the entire message with LF dot LF.\nThat's not CR LF dot CR LF, so a server such as msn.com will sit there waiting for the rest of the message. After a while it'll give up and drop the connection.\nYour mail doesn't get through."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some mail servers convert a bare LF into CR LF, and accept LF dot LF as the end of a mail message. This behavior is specifically prohibited by 821bis (and RFC 2821)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This document was taken from "},{"type":"element","tag":"a","props":{"href":"http://cr.yp.to/docs/smtplf.html","rel":["nofollow"]},"children":[{"type":"text","value":"http://cr.yp.to/docs/smtplf.html"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"bare-lfs-in-smtp","depth":3,"text":"Bare LFs in SMTP"},{"id":"where-did-that-pointer-come-from","depth":2,"text":"Where did that pointer come from?","children":[{"id":"why-should-i-worry-about-bare-lfs","depth":3,"text":"Why should I worry about bare LFs?"},{"id":"how-can-my-mailer-be-fixed","depth":3,"text":"How can my mailer be fixed?"},{"id":"what-is-a-bare-lf-anyway","depth":3,"text":"What is a bare LF, anyway?"}]}]}},"_type":"markdown","_id":"content:barelf.md","_source":"content","_file":"barelf.md","_stem":"barelf","_extension":"md"}