{"_path":"/plugins/rspamd","_dir":"plugins","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"rspamd - Rspamd plugin","description":"Haraka rspamd plugin - Rspamd plugin","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rspamd-plugin"},"children":[{"type":"text","value":"Rspamd plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin facilitates scanning messages with Rspamd."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"rspamd.ini"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: localhost"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Host to connect to to query Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: 11333"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Port Rspamd is listening on."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add_headers"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: sometimes"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Possible values are:"},{"type":"element","tag":"code","props":{"code":"  \"always\" - always add headers\n  \"never\" - never add headers (unless provided by rspamd - see rmilter\\_headers)\n  \"sometimes\" - add headers when rspamd recommends `add header` action\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"  \"always\" - always add headers\n  \"never\" - never add headers (unless provided by rspamd - see rmilter\\_headers)\n  \"sometimes\" - add headers when rspamd recommends `add header` action\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Format of these headers is governed by header.* settings"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.message"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: Detected as spam"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Message to send when rejecting mail due to Rspamd policy recommendation."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.spam"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to false, ignore recommended "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"reject"}]},{"type":"text","value":" action from Rspamd (except\nfor authenticated users)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.authenticated"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Reject messages from authenticated users if Rspamd recommends "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"reject"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"check.authenticated"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If true, messages from authenticated users will not be scanned by Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"check.private_ip"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If false, messages from private IPs will not be scanned by Rspamd.\nIf true, messages from private IPs will be scanned by Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dkim.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to add DKIM signatures to messages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.bar"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add a visual spam level in a header with this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.report"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add information about symbols matched & their scores in a header\nwith this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.score"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add the numeric spam score in a header with this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rmilter_headers.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to add/remove headers to messages via "},{"type":"element","tag":"a","props":{"href":"https://www.rspamd.com/doc/modules/milter_headers.html","rel":["nofollow"]},"children":[{"type":"text","value":"task:rmilter_set_reply()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"soft_reject.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to defer messages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"soft_reject.message"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: Deferred by policy"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Message to send to remote server on rspamd soft rejection."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.positive"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: +"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is positive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.negative"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: -"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is negative."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.neutral"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: /"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is zero."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"timeout (in seconds)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: 29 seconds"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"How long to wait for a response from rspamd."}]}]}]},"navigation":{"title":"rspamd"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rspamd-plugin"},"children":[{"type":"text","value":"Rspamd plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin facilitates scanning messages with Rspamd."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"rspamd.ini"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: localhost"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Host to connect to to query Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: 11333"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Port Rspamd is listening on."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add_headers"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: sometimes"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Possible values are:"},{"type":"element","tag":"code","props":{"code":"  \"always\" - always add headers\n  \"never\" - never add headers (unless provided by rspamd - see rmilter\\_headers)\n  \"sometimes\" - add headers when rspamd recommends `add header` action\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  \"always\" - always add headers\n  \"never\" - never add headers (unless provided by rspamd - see rmilter\\_headers)\n  \"sometimes\" - add headers when rspamd recommends `add header` action"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Format of these headers is governed by header.* settings"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.message"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: Detected as spam"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Message to send when rejecting mail due to Rspamd policy recommendation."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.spam"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to false, ignore recommended "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"reject"}]},{"type":"text","value":" action from Rspamd (except\nfor authenticated users)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"reject.authenticated"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Reject messages from authenticated users if Rspamd recommends "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"reject"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"check.authenticated"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If true, messages from authenticated users will not be scanned by Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"check.private_ip"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: false"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If false, messages from private IPs will not be scanned by Rspamd.\nIf true, messages from private IPs will be scanned by Rspamd."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dkim.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to add DKIM signatures to messages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.bar"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add a visual spam level in a header with this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.report"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add information about symbols matched & their scores in a header\nwith this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"header.score"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: undefined"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set, add the numeric spam score in a header with this name."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rmilter_headers.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to add/remove headers to messages via "},{"type":"element","tag":"a","props":{"href":"https://www.rspamd.com/doc/modules/milter_headers.html","rel":["nofollow"]},"children":[{"type":"text","value":"task:rmilter_set_reply()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"soft_reject.enabled"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: true"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"If set to true, allow rspamd to defer messages."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"soft_reject.message"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: Deferred by policy"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Message to send to remote server on rspamd soft rejection."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.positive"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: +"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is positive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.negative"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: -"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is negative."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"spambar.neutral"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: /"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Used as character for visual spam-level where score is zero."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"timeout (in seconds)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Default: 29 seconds"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"How long to wait for a response from rspamd."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration","depth":2,"text":"Configuration"}]}},"_type":"markdown","_id":"content:8.plugins:rspamd.md","_source":"content","_file":"8.plugins/rspamd.md","_extension":"md"}