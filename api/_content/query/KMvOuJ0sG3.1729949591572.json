{"_path":"/plugins/toobusy","_dir":"plugins","_draft":false,"_partial":false,"_locale":"","title":"toobusy - Reject connections when the server is too busy","description":"Haraka toobusy plugin - Reject connections when the server is too busy","navigation":{"title":"toobusy"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"toobusy-plugin"},"children":[{"type":"text","value":"TooBusy plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin will stop Haraka accepting new connections when the event loop\nlatency is too high."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"https://github.com/STRML/node-toobusy","rel":["nofollow"]},"children":[{"type":"text","value":"node-toobusy"}]},{"type":"text","value":" for details."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To use this plugin you have to install the 'toobusy-js' module by running\n'npm install toobusy-js' in your Haraka configuration directory."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin should be listed at the top of your config/plugins file so that\nit runs before any other plugin that hooks lookup_rdns."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you wish to override the default maxLag value of 70ms then add the desired\nvalue to config/toobusy.maxlag.  This can be set and changed at runtime and\nno restart is required."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that if you set the maxLag value to <10 then this will cause the toobusy\nmodule to raise an exception which will cause Haraka to stop."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration","depth":2,"text":"Configuration"}]}},"_type":"markdown","_id":"content:8.plugins:toobusy.md","_source":"content","_file":"8.plugins/toobusy.md","_stem":"8.plugins/toobusy","_extension":"md"}