{"_path":"/plugins/queue/smtp_proxy","_dir":"queue","_draft":false,"_partial":false,"_locale":"","title":"queue/smtp_proxy - Deliver mail to the proxy MTA","description":"Haraka queue/smtp_proxy plugin - Deliver mail to the proxy MTA","navigation":{"title":"queue/smtp_proxy"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"queuesmtp_proxy-plugin"},"children":[{"type":"text","value":"queue/smtp_proxy plugin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This plugin delivers to another mail server. This is a common setup when you\nwant to have a mail server with a solid pedigree of outbound delivery to\nother hosts, and inbound delivery to users."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In comparison to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"queue/smtp_forward"}]},{"type":"text","value":", this plugin makes a connection at\nMAIL FROM time to the ongoing SMTP server. This can be a benefit in that\nyou get any SMTP-time filtering that the ongoing server provides, in\nparticular one important facility to some setups is recipient filtering.\nHowever be aware that other than connect and HELO-time filtering, you will\nhave as many connections to your ongoing SMTP server as you have to Haraka."}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"smtp_proxy.ini"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Configuration is stored in this file in the following keys:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"enable_outbound="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP proxy outbound messages (set to false to enable Haraka's\nseparate Outbound mail routing (MX based delivery))."},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host=HOST"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The host to connect to."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port=PORT"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The port to connect to."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"connect_timeout=SECONDS"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The maximum amount of time to wait when creating a new connection\nto the host.  Default if unspecified is 30 seconds."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"timeout=SECONDS"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The amount of seconds to let a backend connection live idle in the\nproxy pool.  This should always be less than the global plugin timeout,\nwhich should in turn be less than the connection timeout."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"max_connections=NUMBER"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Maximum number of connections to create at any given time."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"enable_tls="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"true|yes|1"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Enable TLS with the forward host (if supported). TLS uses options from\nthe tls plugin."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_type="},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"plain|login"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Enable PLAIN or LOGIN SMTP AUTH.  This is required to enable AUTH."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_user=USERNAME"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP AUTH username to use."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"auth_pass=PASSWORD"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"SMTP AUTH password to use."}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration","depth":2,"text":"Configuration"}]}},"_type":"markdown","_id":"content:8.plugins:queue:smtp_proxy.md","_source":"content","_file":"8.plugins/queue/smtp_proxy.md","_stem":"8.plugins/queue/smtp_proxy","_extension":"md"}