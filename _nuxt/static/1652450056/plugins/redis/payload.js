__NUXT_JSONP__("/plugins/redis", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){return {data:[{document:{slug:q,title:q,position:76,category:"Plugins",toc:[{id:v,depth:r,text:w},{id:x,depth:s,text:y},{id:z,depth:s,text:A},{id:B,depth:s,text:C},{id:D,depth:r,text:E},{id:F,depth:r,text:G}],body:{type:"root",children:[{type:a,tag:k,props:{},children:[{type:b,value:"Connects to a local (by default) redis instance and stores a "},{type:a,tag:d,props:{},children:[{type:b,value:q}]},{type:b,value:"\nconnection handle at "},{type:a,tag:d,props:{},children:[{type:b,value:"server.notes.redis"}]},{type:b,value:"."}]},{type:b,value:c},{type:a,tag:t,props:{id:v},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#config",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:w}]},{type:b,value:c},{type:a,tag:k,props:{},children:[{type:b,value:"The "},{type:a,tag:d,props:{},children:[{type:b,value:"redis.ini"}]},{type:b,value:" file has the following sections (defaults shown):"}]},{type:b,value:c},{type:a,tag:u,props:{id:x},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#server",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:y}]},{type:b,value:c},{type:a,tag:l,props:{className:[m]},children:[{type:a,tag:n,props:{className:[o,p]},children:[{type:a,tag:d,props:{},children:[{type:b,value:"; host=127.0.0.1\n; port=6379\n; db=0\n"}]}]}]},{type:b,value:c},{type:a,tag:u,props:{id:z},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#pubsub",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:A}]},{type:b,value:c},{type:a,tag:l,props:{className:[m]},children:[{type:a,tag:n,props:{className:[o,p]},children:[{type:a,tag:d,props:{},children:[{type:b,value:"; host=127.0.0.1\n; port=6379\n"}]}]}]},{type:b,value:c},{type:a,tag:k,props:{},children:[{type:b,value:"Publish & Subscribe are DB agnostic and thus have no db setting. If host and port and not defined, they default to the same as [server] settings."}]},{type:b,value:c},{type:a,tag:u,props:{id:B},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#opts",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:C}]},{type:b,value:c},{type:a,tag:l,props:{className:[m]},children:[{type:a,tag:n,props:{className:[o,p]},children:[{type:a,tag:d,props:{},children:[{type:b,value:"; see https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fredis#overloading\n"}]}]}]},{type:b,value:c},{type:a,tag:t,props:{id:D},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#usage",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:E}]},{type:b,value:c},{type:a,tag:k,props:{},children:[{type:b,value:"Use redis in your plugin like so:"}]},{type:b,value:c},{type:a,tag:l,props:{className:[m]},children:[{type:a,tag:n,props:{className:[o,p]},children:[{type:a,tag:d,props:{},children:[{type:b,value:"if (server.notes.redis) {\n    server.notes.redis.hgetall(...);\n        \u002F\u002F or any other redis command\n}\n"}]}]}]},{type:b,value:c},{type:a,tag:t,props:{id:F},children:[{type:a,tag:e,props:{ariaHidden:f,href:"#publishsubscribe-usage",tabIndex:g},children:[{type:a,tag:h,props:{className:[i,j]},children:[]}]},{type:b,value:G}]},{type:b,value:c},{type:a,tag:k,props:{},children:[{type:b,value:"In your plugin:"}]},{type:b,value:c},{type:a,tag:l,props:{className:[m]},children:[{type:a,tag:n,props:{className:[o,p]},children:[{type:a,tag:d,props:{},children:[{type:b,value:"exports.results_init = function (next, connection) {\n    var plugin = this;\n    plugin.redis_subscribe(connection, function () {\n        connection.notes.redis.on('pmessage', function (pattern, channel, message) {\n            plugin.do_something_with_message(message, ...);\n        });\n        next();\n    });\n}\n\u002F\u002F be nice to redis and disconnect\nexports.hook_disconnect = function (next, connection) {\n    this.redis_unsubscribe(connection);\n}\n"}]}]}]}]},dir:"\u002Fen\u002Fplugins",path:"\u002Fen\u002Fplugins\u002Fredis",extension:".md",createdAt:H,updatedAt:H,to:"\u002Fplugins\u002Fredis"},prev:{slug:I,title:I,to:"\u002Fplugins\u002Ftarpit"},next:{slug:J,title:J,to:"\u002Fplugins\u002Ftls"}}],fetch:[],mutations:[]}}("element","text","\n","code","a","true",-1,"span","icon","icon-link","p","div","nuxt-content-highlight","pre","language-text","line-numbers","redis",2,3,"h2","h3","config","Config","server","[server]","pubsub","[pubsub]","opts","[opts]","usage","Usage","publishsubscribe-usage","Publish\u002FSubscribe Usage","2022-05-13T13:52:22.671Z","tarpit","tls")));