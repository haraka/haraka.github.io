__NUXT_JSONP__("/plugins/dkim_sign", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H){return {data:[{document:{slug:u,title:u,position:48,category:"Plugins",toc:[{id:v,depth:r,text:w},{id:x,depth:r,text:y},{id:z,depth:r,text:A}],body:{type:"root",children:[{type:b,tag:d,props:{},children:[{type:a,value:"This plugin implements the DKIM Core specification found at dkimcore.org"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"DKIM Core is a simplified subset of DKIM which is easier to understand\nand deploy, yet provides all the same delivery advantages as DKIM."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This plugin can only "},{type:b,tag:s,props:{},children:[{type:a,value:"sign"}]},{type:a,value:" outbound messages.  It does not validate\nDKIM signatures."}]},{type:a,value:c},{type:b,tag:t,props:{id:v},children:[{type:b,tag:f,props:{ariaHidden:g,href:"#getting-started",tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:w}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Generate DKIM selector and keys:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"% cd \u002Fpath\u002Fto\u002Fharaka\u002Fconfig\u002Fdkim\n.\u002Fdkim_key_gen.sh example.org\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Peek into the "},{type:b,tag:e,props:{},children:[{type:a,value:B}]},{type:a,value:" shell script to see the commands used to\ncreate and format the DKIM public key. Within the config\u002Fdkim\u002Fexample.org\ndirectory will be 4 files:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"% ls config\u002Fdkim\u002Fexample.org\u002F\ndns private public selector\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The"},{type:b,tag:e,props:{},children:[{type:a,value:"private"}]},{type:a,value:" and "},{type:b,tag:e,props:{},children:[{type:a,value:"public"}]},{type:a,value:" files contain the DKIM keys, the selector is\nin the "},{type:b,tag:e,props:{},children:[{type:a,value:"selector"}]},{type:a,value:" file and the "},{type:b,tag:e,props:{},children:[{type:a,value:C}]},{type:a,value:" file contains a formatted record of\nthe public key, as well as suggestions for DKIM, SPF, and DMARC policy\nrecords. The records in "},{type:b,tag:e,props:{},children:[{type:a,value:C}]},{type:a,value:" are ready to be copy\u002Fpasted into the DNS\nzone for example.org."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The DKIM DNS record will look like this:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"may2013._domainkey TXT \"v=DKIM1;p=[public key stripped of whitespace];\"\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"And the values in the address have the following meaning:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"hash: h=[ sha1 | sha256 ]\ntest; t=[ s | s:y ]\ngranularity: g=[ ]\nnotes: n=[ ]\nservices: s=[email]\nkeytypes: [ rsa ]\n"}]}]}]},{type:a,value:c},{type:b,tag:t,props:{id:x},children:[{type:b,tag:f,props:{ariaHidden:g,href:"#key-size",tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The default key size created by "},{type:b,tag:e,props:{},children:[{type:a,value:B}]},{type:a,value:" is 2048. As of mid-2014, there are some DNS providers that do not support key sizes that long."}]},{type:a,value:c},{type:b,tag:D,props:{id:"what-to-sign"},children:[{type:b,tag:f,props:{ariaHidden:g,href:"#what-to-sign",tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:"What to sign"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The DKIM signing key for messages from example.org "},{type:b,tag:s,props:{},children:[{type:a,value:"should"}]},{type:a,value:" be signed with\na DKIM key for example.org. Failing to do so will result in messages not\nhaving an "},{type:b,tag:s,props:{},children:[{type:a,value:"aligned"}]},{type:a,value:" DKIM signature. For DMARC enabled domains, this will\nlikely result in deliverability problems."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"For correct alignment, Haraka signs each message with that domains DKIM key.\nFor an alternative, see the legacy Single Domain Configuration below."}]},{type:a,value:c},{type:b,tag:D,props:{id:"configuration"},children:[{type:b,tag:f,props:{ariaHidden:g,href:"#configuration",tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:"Configuration"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This plugin uses the configuration "},{type:b,tag:e,props:{},children:[{type:a,value:"dkim_sign.ini"}]},{type:a,value:" in INI format.\nAll configuration should appear within the 'main' block and is\nchecked for updates on every run."}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"disabled = [ 1 | true | yes ]             (OPTIONAL)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Set this to disable DKIM signing"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"headers_to_sign = list, of; headers       (REQUIRED)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Set this to the list of headers that should be signed\nseparated by either a comma, colon or semi-colon.\nThis is to prevent any tampering of the specified headers.\nThe 'From' header is required to be present by the RFC and\nwill be added if it is missing."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:t,props:{id:z},children:[{type:b,tag:f,props:{ariaHidden:g,href:"#single-domain-configuration",tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:A}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"To sign all messages with a single DKIM key, these two config settings\nare required."}]},{type:a,value:c},{type:b,tag:E,props:{},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"selector = name"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Set this to the selector name published in DNS under the\n_domainkey sub-domain of the domain referenced below."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"domain = name"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Set this to the domain name that will be used to sign messages\nwhich don't match a per-domain DKIM key.  The DNS TXT entry for:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:e,props:{},children:[{type:a,value:"  \u003Cselector\u003E._domainkey.\u003Cdomain\u003E\n"}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"dkim.private.key = filename"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Create a file "},{type:b,tag:e,props:{},children:[{type:a,value:"dkim.private.key"}]},{type:a,value:" in the config folder and paste\nyour private key in it."}]},{type:a,value:c}]},{type:a,value:c}]}]},dir:"\u002Fen\u002Fplugins",path:"\u002Fen\u002Fplugins\u002Fdkim_sign",extension:".md",createdAt:F,updatedAt:F,to:"\u002Fplugins\u002Fdkim_sign"},prev:{slug:G,title:G,to:"\u002Fplugins\u002Fdelay_deny"},next:{slug:H,title:H,to:"\u002Fplugins\u002Fdkim_verify"}}],fetch:[],mutations:[]}}("text","element","\n","p","code","a","true",-1,"span","icon","icon-link","div","nuxt-content-highlight","pre","language-text","line-numbers","li",2,"em","h2","dkim_sign","getting-started","Getting Started","key-size","Key size","single-domain-configuration","Single Domain Configuration","dkim_key_gen.sh","dns","h1","ul","2022-05-13T13:52:22.667Z","delay_deny","dkim_verify")));