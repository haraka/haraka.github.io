import{_ as m}from"./BV8_LFp3.js";import{d as f,G as i,r as _,c as s,X as k,f as n,H as e,F as h,al as v,h as g,n as w,e as t,k as b}from"#entry";const x={key:1,class:"loaded"},B=["poster"],C=["src"],V=["src","type"],$=["autoplay","src"],N=f({__name:"VideoPlayer",props:{poster:{type:String,default:""},src:{type:String,default:""},sources:{type:Array,default:()=>[]},autoplay:{type:Boolean,default:!1}},setup(a){const o=a,r=i(()=>{if(o.src&&o.src.includes("youtube.com/watch")){const p=o.src.match(/\?v=([^&]*)/);return{name:"youtube",src:`https://www.youtube-nocookie.com/embed/${p?.[1]||""}?autoplay=1`,poster:o.poster||`https://i3.ytimg.com/vi/${p?.[1]||""}/hqdefault.jpg`}}}),l=_(!1);if(!o.src&&!o.sources.length)throw new Error("VideoPlayer: you need to provide either `src` or `sources` props");const d=i(()=>o.src||o.sources?.[0]?.src||!1);return(p,u)=>{const y=m;return t(),s("div",{class:w(["video-player",{loaded:e(l)}])},[(e(r)?e(r).poster:a.poster)?(t(),k(y,{key:0,src:e(r)?e(r).poster:a.poster},null,8,["src"])):n("",!0),e(l)?(t(),s("div",x,[e(r)?e(r).name==="youtube"?(t(),s("iframe",{key:1,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"true",autoplay:a.autoplay,src:e(r).src},null,8,$)):n("",!0):(t(),s("video",{key:0,poster:a.poster,controls:"",autoplay:""},[e(d)?(t(),s("source",{key:0,src:e(d)},null,8,C)):n("",!0),(t(!0),s(h,null,v(a.sources,c=>(t(),s("source",{key:c.src||c,src:c.src||c,type:c.type},null,8,V))),128))],8,B))])):n("",!0),e(l)?n("",!0):(t(),s("div",{key:2,class:"play-button",onClick:u[0]||(u[0]=c=>l.value=!0)},[...u[1]||(u[1]=[g("button",null,null,-1)])]))],2)}}}),I=b(N,[["__scopeId","data-v-cfa5f079"]]);export{I as default};
